<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

	<h:head>
	    <title>Reporte Categorias</title>
	</h:head>
	<body>
		<h:form>
			<link href="reporteCSS.css" rel="stylesheet" type="text/css" />
			<header id="barra-administrador">
	
	            <div class=" logo-nav-container">
	                <p id="admin-header" href="#">
	                    ADMINISTRADOR
	                </p>
	                <p:commandButton id="cerrar_sesion" styleClass="ui-button-raised ui-button-flat ui-button-plain" actionListener="#{loginBean.logOut()}" style="float:center;" value="Cerrar SesiÃ³n" />
	            </div>
	
	        </header>
	        <br></br>
	        <br></br>
	        <br></br>
			<!-- / #main-header -->
	        <div class="titulo">
	            <h2>CATEGORIAS</h2>
	        </div>
	        
	        
	        <div class="panel consulta">
	            <p:dataTable id="reporteCategoria" var="category" value="#{administratorBean.reportCategory()}" paginator="true" selectionMode="single" selection="" rowKey="#{category.estado}" paginatorPosition="bottom"
	                currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records" >
	                
					<p:column headerText="CATEGORIA">
	                    <h:outputText value="#{category.getEstado()}" />
	                </p:column>
	
	                <p:column headerText="NUMERO DE SOLICITUDES">
	                    <h:outputText value="#{category.getCantidad()}" />
	                </p:column>
	
	                <p:column headerText="NUMERO DE OFERTAS">
	                    <h:outputText value="#{category.getCantidad2()}" />
	                </p:column>
	
	                <p:column headerText="TOTAL">
	                    <h:outputText value="#{category.getTotal()}" />
	                </p:column>
					
					<f:facet name="footer">
	                    
	            	</f:facet>
	            </p:dataTable>
				
	        </div>
	        <div class="p-grid">
			    <div class="p-col-12 p-lg-6 p-xl-4">
			        <div class="card">
						<p:pieChart model="#{administratorBean.getPieChart()}" style="width: 100%; height: 500px;"/>
					</div>
			    </div>
			</div>
			
				
			<div>
				<p:commandButton value="XLSX" styleClass="p-mr-2 p-mb-2" >
					<p:dataExporter type="xlsxstream" target="reporteCategoria" fileName="ReporteCategoria"/>
				</p:commandButton>
				<p:commandButton value="PDF" styleClass="p-mr-2 p-mb-2" >
		            <p:dataExporter type="pdf" target="reporteCategoria" fileName="ReporteCategoria"/>
		        </p:commandButton>
		        <p:commandButton id = "boton_Regresar" value ="REGRESAR" actionListener ="#{loginBean.redirect()}" styleClass="ui-button-secondary" />
	        </div>
		        
	       
	    </h:form>
	</body>
</html>